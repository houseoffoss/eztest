# ============================================
# EZTest Environment Configuration Template
# ============================================
# Copy this file to .env and update with your values
# cp .env.example .env

# ============================================
# Required Configuration
# ============================================

# Database Connection
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://eztest:eztest_password@postgres:5432/eztest?schema=public"

# PostgreSQL Configuration (for Docker)
POSTGRES_USER=eztest
POSTGRES_PASSWORD=eztest_password
POSTGRES_DB=eztest

# Port Configuration (for Docker Compose)
DB_PORT=5433        # Host port for PostgreSQL (mapped to container port 5432)
APP_PORT=3000       # Host port for application (mapped to container port 3000)

# ============================================
# Application Settings
# ============================================

# Environment mode: development, production, or test
NODE_ENV="development"

# Application base URL (falls back to NEXTAUTH_URL if not set)
APP_URL="http://localhost:3000"

# Enable debug logging
DEBUG="false"

# ============================================
# Authentication
# ============================================

# Generate a secure secret: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-key-here-change-in-production"
NEXTAUTH_URL="http://localhost:3000"

# ============================================
# Initial Admin User (created on first run)
# ============================================

ADMIN_EMAIL="admin@eztest.local"
ADMIN_PASSWORD="Admin@123456"
ADMIN_NAME="System Administrator"

# ============================================
# Firebase Analytics (Optional - Backend-Only)
# ============================================
# Get these values from Firebase Console > Project Settings > General > Your apps
# Firebase Analytics is optional - the app will work without it
# 
# BACKEND-ONLY APPROACH: All config comes from server-side env vars
# Config is served via /api/config/firebase endpoint
# Updates without rebuilding the app

# Required Firebase Configuration (Server-side only)
FIREBASE_API_KEY=""
FIREBASE_AUTH_DOMAIN=""
FIREBASE_PROJECT_ID=""
FIREBASE_STORAGE_BUCKET=""
FIREBASE_MESSAGING_SENDER_ID=""
FIREBASE_APP_ID=""
FIREBASE_MEASUREMENT_ID=""

# Firebase Debug Mode (Optional - Server-side)
# Set to "true" to enable Firebase Console DebugView for real-time event monitoring
# DebugView shows events in Firebase Console > Analytics > DebugView
FIREBASE_DEBUG_MODE="false"

# Analytics Console Logging (Optional - Client-side)
# Controls console.log output for analytics events in development
# Set to "false" to disable console logging (events still tracked)
# Only affects development mode (NODE_ENV=development)
NEXT_PUBLIC_ANALYTICS_DEBUG="true"

# ============================================
# File Attachments (Optional)
# ============================================



# Maximum file size in bytes (default: 10MB)
MAX_FILE_SIZE="10485760"

# Local upload directory (if not using S3)
UPLOAD_DIR="/app/uploads"

# ============================================
# AWS S3 Storage (Optional - Required if using S3 for attachments)
# ============================================
# SECURITY WARNING: Never commit actual AWS credentials to git!
# Create an IAM user with S3-only permissions for this application
AWS_REGION="us-east-1"

AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_S3_BUCKET=""
AWS_S3_PATH_PREFIX="Production"

# Optional: S3 multipart chunk size (default: 10MB)
# Larger chunks = faster uploads on good connections, less granular progress updates
# Minimum: 5242880 (5MB) per AWS S3 requirements
# S3_CHUNK_SIZE="10485760"

# Enable file attachments feature
ENABLE_ATTACHMENTS=false

# ============================================
# Email Configuration (Optional)
# ============================================

# Enable email features
ENABLE_SMTP=false

# SMTP Server Configuration
# Supports: Defect assignment notifications, Test run report emails
# Common SMTP providers:
#   - Gmail: smtp.gmail.com, port 587, SMTP_SECURE=false
#   - Outlook: smtp-mail.outlook.com, port 587, SMTP_SECURE=false
#   - SendGrid: smtp.sendgrid.net, port 587, SMTP_SECURE=false
#   - Mailgun: smtp.mailgun.org, port 587, SMTP_SECURE=false
# SMTP_HOST=""
# SMTP_PORT="587"
# SMTP_USER=""
# SMTP_PASS=""
# SMTP_FROM=""
# SMTP_SECURE="false"

# ============================================
# Production Notes
# ============================================
# For production deployments:
# 1. Generate a secure NEXTAUTH_SECRET: openssl rand -base64 32
# 2. Use SSL for database: Add ?sslmode=require to DATABASE_URL
# 3. Set NODE_ENV="production"
# 4. Configure proper SMTP settings for email
# 5. Set up S3 or file storage for attachments
# 6. Configure Firebase Analytics (FIREBASE_* variables) if needed
# 7. Firebase config updates without rebuild - just restart server after changing FIREBASE_* vars
